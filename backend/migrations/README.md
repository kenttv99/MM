# Миграции базы данных

Этот каталог содержит миграции базы данных, созданные с помощью Alembic.

## Структура

- `alembic.ini` - конфигурационный файл Alembic
- `env.py` - настройки окружения для миграций
- `script.py.mako` - шаблон для создания файлов миграций
- `versions/` - каталог с файлами миграций

## Команды

### Создание новой миграции

```bash
alembic revision --autogenerate -m "Описание изменений"
```

### Применение миграций

```bash
alembic upgrade head
```

### Откат миграций

```bash
alembic downgrade -1  # Откат на одну миграцию назад
alembic downgrade base  # Откат всех миграций
```

### Просмотр истории миграций

```bash
alembic history
```

### Просмотр текущей версии

```bash
alembic current
```

## Важные замечания

1. Перед созданием новой миграции убедитесь, что все изменения в моделях сохранены
2. После создания миграции проверьте её содержимое перед применением
3. Всегда делайте резервную копию базы данных перед применением миграций
4. При возникновении ошибок используйте команду `alembic downgrade` для отката изменений 